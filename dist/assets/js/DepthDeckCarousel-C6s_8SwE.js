import{j as e,m as t}from"./animation-vendor-C-sx8lNG.js";import{r as n}from"./react-vendor-D9GwovZj.js";import{d as r,e as i}from"./ui-vendor-DUz7L5oM.js";const o={stiffness:260,damping:20,mass:.8},s={"9:16":.5625,"2:3":.6667,"3:4":.75,"1:1":1,"4:3":1.3333,"3:2":1.5,"16:9":1.7778};function a(a){const{items:l,renderItem:c,aspectRatio:d="2:3",autoPlay:p=!0,autoPlayIntervalSeconds:u=4,showNavigation:b=!0,showPagination:g=!0,primaryColor:h="#000000",borderWidth:x=0,borderColor:f="#FFFFFF",borderRadius:m=41.4,navButtonBackground:v="rgba(255, 255, 255, 0.12)",navButtonBackgroundHover:y="#000000",navButtonBorderColor:M="rgba(0, 0, 0, 0.12)",navButtonIconColor:C="rgba(17, 17, 17, 0.92)",navButtonIconColorHover:k="#FFFFFF",shadowStrength:$=1,style:w}=a,[F,j]=n.useState(0),[S,I]=n.useState(!1),[R,B]=n.useState(null),H=n.useRef(null),z=n.useRef(null),E=function(e){const[t,r]=n.useState({width:0,height:0});return n.useEffect(()=>{if(!e.current)return;const t=new ResizeObserver(e=>{const t=e[0];t&&r({width:t.contentRect.width,height:t.contentRect.height})});return t.observe(e.current),()=>t.disconnect()},[e]),t}(z),O=n.useMemo(()=>(e=>{const t=e<480,n=e>=480&&e<1024;return{cardWidth:t?Math.min(.7*e,280):n?Math.min(.45*e,380):Math.min(.28*e,460),cardSpacing:t?60:n?140:250,verticalOffset:t?8:n?15:25,scaleStep:t?.15:n?.12:.08,rotationOffset:t?-8:n?-12:-18,perspective:2e3,brightnessStep:0,minHeight:t?400:n?500:700,isMobile:t,isTablet:n}})(E.width||1200),[E.width]),P=O.cardWidth/s[d],T=n.useMemo(()=>{const e=Math.max(0,$);return{center:`0 ${O.isMobile?12:24}px ${O.isMobile?30:60}px rgba(0,0,0,${.25*e}), 0 ${O.isMobile?4:8}px ${O.isMobile?12:24}px rgba(0,0,0,${.15*e})`,side:`0 ${O.isMobile?6:12}px ${O.isMobile?18:32}px rgba(0,0,0,${.15*e}), 0 ${O.isMobile?2:4}px ${O.isMobile?6:12}px rgba(0,0,0,${.1*e})`}},[$,O.isMobile]),W=n.useMemo(()=>l.map((e,t)=>((e,t,n,r)=>{const i=(e-t+n)%n-Math.floor(n/2),o=i>n/2?i-n:i<-n/2?i+n:i,s=Math.abs(o);return{x:o*r.cardSpacing,y:s*r.verticalOffset,scale:1-s*r.scaleStep,rotateY:o*r.rotationOffset,opacity:1,brightness:1,zIndex:1e3-s,isCenter:0===o,relativePosition:o}})(t,F,l.length,O)),[F,l.length,O]);n.useEffect(()=>{F>=l.length&&l.length>0&&j(l.length-1)},[l.length,F]),n.useEffect(()=>{if(p&&!S&&0!==l.length)return H.current=setInterval(()=>{j(e=>(e+1)%l.length)},1e3*u),()=>{H.current&&clearInterval(H.current)}},[p,l.length,u]);const L=n.useCallback(()=>{I(!1),H.current&&(clearInterval(H.current),H.current=null)},[]),Y=n.useCallback(()=>{L(),j(e=>(e+1)%l.length)},[l.length,L]),D=n.useCallback(()=>{L(),j(e=>(e-1+l.length)%l.length)},[l.length,L]),N=n.useCallback(e=>{L(),j(e)},[L]),V=n.useCallback((e,t)=>{if(0===t)return;L();const n=(F+t+l.length)%l.length;j(n)},[F,l.length,L]),X=n.useCallback(e=>{O.isMobile||B(e)},[O.isMobile]),q=n.useCallback(()=>{B(null)},[]);return e.jsxs("div",{ref:z,style:{...w,position:"relative",width:"100%",minHeight:`${O.minHeight+150}px`,overflow:"visible",backgroundColor:"transparent",userSelect:"none",paddingBottom:"120px"},children:[e.jsx("div",{style:{position:"relative",width:"100%",minHeight:`${O.minHeight}px`,display:"flex",alignItems:"center",justifyContent:"center",perspective:`${O.perspective}px`,transformStyle:"preserve-3d",overflow:"visible",isolation:"isolate"},children:l.map((n,r)=>{const i=W[r],s=R===r;return e.jsx(t.div,{onClick:()=>V(r,i.relativePosition),onHoverStart:()=>X(r),onHoverEnd:q,initial:!1,animate:{x:i.x,y:s?i.y-30:i.y,scale:s?1.05*i.scale:i.scale,rotateY:i.rotateY,opacity:i.opacity,filter:"brightness(1)",zIndex:i.zIndex,transition:{type:"spring",...o}},transition:{type:"spring",...o},style:{position:"absolute",left:"50%",width:`${O.cardWidth}px`,height:`${P}px`,borderRadius:`${m}px`,cursor:"pointer",backfaceVisibility:"hidden",transformOrigin:"center center",boxShadow:i.isCenter?T.center:T.side,overflow:"hidden",backgroundColor:"transparent",border:x>0?`${x}px solid ${f}`:"none",marginLeft:`-${O.cardWidth/2}px`,willChange:"transform"},children:c(n,r,i.isCenter,s)},r)})}),(b||g)&&e.jsxs("div",{style:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",display:"flex",alignItems:"center",gap:O.isMobile?"16px":"24px",zIndex:9999,pointerEvents:"auto"},children:[b&&e.jsx("button",{onClick:D,style:{padding:O.isMobile?"10px":"14px",borderRadius:"9999px",background:"#000",border:`1px solid ${M}`,color:"#FFF",cursor:"pointer",transition:"all 200ms",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},onMouseEnter:e=>{e.currentTarget.style.background="#333"},onMouseLeave:e=>{e.currentTarget.style.background="#000"},children:e.jsx(r,{size:O.isMobile?24:28})}),g&&e.jsx("div",{style:{display:"flex",gap:"8px"},children:l.map((t,n)=>e.jsx("button",{onClick:()=>N(n),style:{width:n===F?O.isMobile?"16px":"24px":O.isMobile?"6px":"8px",height:O.isMobile?"6px":"8px",borderRadius:"9999px",border:"none",background:n===F?h:"rgba(0,0, 0, 0.1)",cursor:"pointer",transition:"all 300ms",padding:0}},n))}),b&&e.jsx("button",{onClick:Y,style:{padding:O.isMobile?"10px":"14px",borderRadius:"9999px",background:"#000",border:`1px solid ${M}`,color:"#FFF",cursor:"pointer",transition:"all 200ms",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},onMouseEnter:e=>{e.currentTarget.style.background="#333"},onMouseLeave:e=>{e.currentTarget.style.background="#000"},children:e.jsx(i,{size:O.isMobile?24:28})})]})]})}export{a as D};
