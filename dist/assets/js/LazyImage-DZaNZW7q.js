import{j as e}from"./animation-vendor-C-sx8lNG.js";import{r as s}from"./react-vendor-D9GwovZj.js";const t=({src:t,alt:a,threshold:r=0,placeholderSrc:n,className:l="",...o})=>{const c=s.useRef(null),[i,d]=s.useState(!1),[u,m]=s.useState(!1);s.useEffect(()=>{const e=new IntersectionObserver(([s])=>{s.isIntersecting&&(d(!0),e.disconnect())},{threshold:0,rootMargin:"200px"});return c.current&&e.observe(c.current),()=>e.disconnect()},[]);const g=i?t.includes("unsplash.com")&&!t.includes("fm=")?`${t}&fm=webp&q=80&w=1200`:t:n||'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10"%3E%3C/svg%3E';return e.jsxs("div",{className:`relative w-full h-full overflow-hidden ${l}`,children:[!u&&e.jsx("div",{className:"absolute inset-0 bg-red-950/20 animate-pulse z-[1]",style:{background:"radial-gradient(circle at center, #1a0505 0%, #000 100%)"}}),e.jsx("img",{ref:c,src:g,alt:a,className:"w-full h-full object-cover transition-all duration-1000 ease-out "+(u?"opacity-100 scale-100":"opacity-0 scale-105"),onLoad:()=>m(!0),loading:"lazy",decoding:"async",...o})]})};export{t as L};
